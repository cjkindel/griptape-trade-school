
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../02_concepts/">
      
      
        <link rel="next" href="../04_adding_flexibility/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>First Workflow - Griptape Trade School</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-68THEKV8C8"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-68THEKV8C8",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-68THEKV8C8",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#first-workflow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Griptape Trade School" class="md-header__button md-logo" aria-label="Griptape Trade School" data-md-component="logo">
      
  <img src="../../../assets/img/griptape-logo-light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Griptape Trade School
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              First Workflow
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../setup/" class="md-tabs__link">
        Setup
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Courses
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../faq/" class="md-tabs__link">
        Help
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Griptape Trade School" class="md-nav__button md-logo" aria-label="Griptape Trade School" data-md-component="logo">
      
  <img src="../../../assets/img/griptape-logo-light.png" alt="logo">

    </a>
    Griptape Trade School
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Griptape Trade School
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/" class="md-nav__link">
        Setting up for Griptape
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/01_setting_up_environment/" class="md-nav__link">
        Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/02_openai/" class="md-nav__link">
        OpenAI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/03_griptape/" class="md-nav__link">
        Griptape
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/04_helpful_resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Courses
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Courses
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        All Courses
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Chatbot - Rulesets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Chatbot - Rulesets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/01_setting_up_environment/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/03_the_chat_utility/" class="md-nav__link">
        The Chat utility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/04_hide_the_logs/" class="md-nav__link">
        Hiding the logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/05_personality_with_rulesets/" class="md-nav__link">
        Personality
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/06_adding_manual_chat/" class="md-nav__link">
        Custom chat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/07_manners_maketh_the_bot/" class="md-nav__link">
        Manners maketh the bot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/08_adding_another_ruleset_for_output/" class="md-nav__link">
        Rulesets for output
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/09_formatting_chat_output/" class="md-nav__link">
        Formatting Output
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/10_markdown_madness/" class="md-nav__link">
        Markdown Madness
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/11_gleaming_the_chat/" class="md-nav__link">
        Improving the Prompt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/12_multiple_personas/" class="md-nav__link">
        Multiple Personas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/13_adding_personality_colors/" class="md-nav__link">
        Colorful Personality
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chatbot-rulesets/14_making_it_quick/" class="md-nav__link">
        Quick Feedback
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Compare Movies - Workflows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Compare Movies - Workflows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01_setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02_concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          First Workflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        First Workflow
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-required-modules" class="md-nav__link">
    Importing Required Modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-workflow-structure" class="md-nav__link">
    Create Workflow Structure
  </a>
  
    <nav class="md-nav" aria-label="Create Workflow Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-the-workflow" class="md-nav__link">
    Initialize the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-start-task" class="md-nav__link">
    Create a Start task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-task-to-the-workflow" class="md-nav__link">
    Add Task to the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-workflow" class="md-nav__link">
    Run the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-end-task" class="md-nav__link">
    Add the end task
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-tasks-into-workflow" class="md-nav__link">
    Add Tasks into Workflow
  </a>
  
    <nav class="md-nav" aria-label="Add Tasks into Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-first-movie-prompt-task" class="md-nav__link">
    Create the first Movie Prompt task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-the-task-into-the-workflow" class="md-nav__link">
    Insert the Task into the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-workflow_1" class="md-nav__link">
    Run the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#second-movie-task" class="md-nav__link">
    Second Movie Task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-second-task-to-workflow" class="md-nav__link">
    Add Second Task to Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pass-the-data" class="md-nav__link">
    Pass the Data
  </a>
  
    <nav class="md-nav" aria-label="Pass the Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jinja2" class="md-nav__link">
    Jinja2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-prompt" class="md-nav__link">
    Update the Prompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_1" class="md-nav__link">
    Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix-the-prompt" class="md-nav__link">
    Fix the Prompt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-review" class="md-nav__link">
    Code Review
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-step" class="md-nav__link">
    Next Step
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04_adding_flexibility/" class="md-nav__link">
        Adding Flexibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05_using_tools/" class="md-nav__link">
        Using Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06_workflow_outputs/" class="md-nav__link">
        Workflow Outputs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07_workflow_display_graph/" class="md-nav__link">
        Workflow Displaying Graph
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Image Generation - Pipelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Image Generation - Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/01_setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/02_concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/03_first_pipeline/" class="md-nav__link">
        First Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/04_creating_images/" class="md-nav__link">
        Creating Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/05_understanding_tools/" class="md-nav__link">
        Understanding Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/06_first_tool/" class="md-nav__link">
        Your First Tool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/07_display_image_tool/" class="md-nav__link">
        Displaying Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/08_dalle-3/" class="md-nav__link">
        DALL·E 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/09_leonardo-ai/" class="md-nav__link">
        Leonardo.AI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../create-image-pipeline/10_amazon-bedrock/" class="md-nav__link">
        Amazon Bedrock
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Griptape and Shotgrid - Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Griptape and Shotgrid - Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/01_setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/03_understanding_tools/" class="md-nav__link">
        Understanding Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/04_first_tool/" class="md-nav__link">
        Your First Tool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/02_shotgrid/" class="md-nav__link">
        ShotGrid Signup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/05_shotgrid_tool/" class="md-nav__link">
        ShotGrid Tool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/06_shotgrid_user/" class="md-nav__link">
        User Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/07_method/" class="md-nav__link">
        ShotGrid Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/08_vectorized_docs/" class="md-nav__link">
        Vectorized Docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shotgrid-client/09_rules/" class="md-nav__link">
        Rules and Rulesets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Help
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Help
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-required-modules" class="md-nav__link">
    Importing Required Modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-workflow-structure" class="md-nav__link">
    Create Workflow Structure
  </a>
  
    <nav class="md-nav" aria-label="Create Workflow Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-the-workflow" class="md-nav__link">
    Initialize the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-start-task" class="md-nav__link">
    Create a Start task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-task-to-the-workflow" class="md-nav__link">
    Add Task to the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-workflow" class="md-nav__link">
    Run the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-end-task" class="md-nav__link">
    Add the end task
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-tasks-into-workflow" class="md-nav__link">
    Add Tasks into Workflow
  </a>
  
    <nav class="md-nav" aria-label="Add Tasks into Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-first-movie-prompt-task" class="md-nav__link">
    Create the first Movie Prompt task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-the-task-into-the-workflow" class="md-nav__link">
    Insert the Task into the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-workflow_1" class="md-nav__link">
    Run the Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#second-movie-task" class="md-nav__link">
    Second Movie Task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-second-task-to-workflow" class="md-nav__link">
    Add Second Task to Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pass-the-data" class="md-nav__link">
    Pass the Data
  </a>
  
    <nav class="md-nav" aria-label="Pass the Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jinja2" class="md-nav__link">
    Jinja2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-prompt" class="md-nav__link">
    Update the Prompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_1" class="md-nav__link">
    Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix-the-prompt" class="md-nav__link">
    Fix the Prompt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-review" class="md-nav__link">
    Code Review
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-step" class="md-nav__link">
    Next Step
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="first-workflow">First Workflow</h1>
<h2 id="overview">Overview</h2>
<p>In this section we're going to create the first workflow in our Movie Comparison application. By the end of this section you will have a workflow that lets you create a cursory comparison between two movies.</p>
<p>For example, if you pass it these two descriptions:</p>
<ul>
<li>"A boy discovers an alien in his back yard"</li>
<li>"A shark attacks a beach"</li>
</ul>
<p>It will come back with:</p>
<div class="admonition example">
<p class="admonition-title">Result</p>
<p>Both E.T. the Extra-Terrestrial and Jaws are directed by Steven Spielberg.  <br />
They are also both iconic films that have had a significant impact on popular culture.</p>
</div>
<p>The hierarchy we will create looks like the following:</p>
<pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        B(Describe Workflow):::main --&gt; C(Movie 1) --&gt; E(Compare Task):::main
        B --&gt; D(Movie 2) --&gt; E
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre>
<p>As you can see, there is a <code>Workflow</code> Structure, and four tasks that will be created. The <strong>Start</strong> and <strong>End</strong> tasks (Describe Workflow and Compare Task), and two siblings (Movie 1 and Movie 2). Compare Task will be dependent on them to complete before it can execute.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Workflows must always have a <strong>Start</strong> and <strong>End</strong> task.</p>
</div>
<p>To generate this structure, we will first create our Start and End tasks, and then <strong>insert</strong> the movie tasks. This will guarantee that our tasks exist in the workflow exactly where we want them.
<pre class="mermaid"><code>flowchart TB 
    subgraph Step 2 ["Insert"]
        direction TB
        C(Describe Workflow):::main --&gt; D(Movie 1) --&gt; F(Compare Task):::main
        C --&gt; E(Movie 2) --&gt; F
    end

    subgraph Step 1 ["Start &amp; End"]
        direction TB
        A(Describe Workflow):::main --&gt; B(Compare Task):::main
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre></p>
<p>Let's get started.</p>
<h2 id="importing-required-modules">Importing Required Modules</h2>
<p>Before starting, we need to import the necessary modules. Open the <code>app.py</code> file you created in the <a href="../01_setup/">setup</a> section and import the two Griptape classes you'll need: <code>Workflow</code> and <code>PromptTask</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="hll"><span class="c1"># Griptape</span>
</span></span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="hll"><span class="kn">from</span> <span class="nn">griptape.structures</span> <span class="kn">import</span> <span class="n">Workflow</span>
</span></span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="hll"><span class="kn">from</span> <span class="nn">griptape.tasks</span> <span class="kn">import</span> <span class="n">PromptTask</span>
</span></span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="n">load_dotenv</span><span class="p">()</span> <span class="c1"># Load your environment</span>
</span></code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You might recall that <code>Agent</code> was also imported through <code>griptape.structures</code>. That's because <code>Agent</code>, <code>Workflow</code>, and <code>Pipeline</code> are all Griptape's ways of working with LLMs. </p>
</div>
<h2 id="create-workflow-structure">Create Workflow Structure</h2>
<h3 id="initialize-the-workflow">Initialize the Workflow</h3>
<p>Now, let's create the foundation for our Workflow. After the line <code>load_dotenv()</code>, create an instance of the Workflow class:</p>
<div class="highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># ... truncated for brevity</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">load_dotenv</span><span class="p">()</span> <span class="c1"># Load your environment</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="hll"><span class="c1"># Create the workflow object</span>
</span></span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="hll"><span class="n">workflow</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
</span></span></code></pre></div>
<h3 id="create-a-start-task">Create a Start task</h3>
<p>First, we'll create our "start" task. This will be a simple <code>PromptTask</code> that lets the LLM know what we're going to do. </p>
<p>After the <code>workflow</code> line, add:
<div class="highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Create tasks</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">start_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;I will provide you a list of movies to compare.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;START&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p>There are two things that are important to point out in this task creation.</p>
<ol>
<li>Notice that we're using a <code>PromptTask</code>. That's because we don't need to use any tools for this particular task, we only want to use the LLM.</li>
<li>We have given the task an <code>id</code>. This is so we can reference it later in the script. If you don't pass this value, the task will be given a random string as the id.</li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Every task in a workflow must have a unique id. If two tasks have the same id, the workflow will fail.</p>
</div>
<h3 id="add-task-to-the-workflow">Add Task to the Workflow</h3>
<p>You have created the task, but it's not yet part of the workflow. In order to do that, we'll need to use the <code>add_task</code> method.</p>
<p>After the PromptTask line, add:</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">start_task</span><span class="p">)</span>
</span></code></pre></div>
<p>At this point, your workflow flow graph looks like:</p>
<pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        B(PromptTask: START):::main
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre>
<p>However if you execute your script, nothing will happen. That's because you need to tell the workflow graph to run.</p>
<h3 id="run-the-workflow">Run the Workflow</h3>
<p>To run a workflow, you simply need to call the method <code>run</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Run the workflow</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">workflow</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<p>Here's the result. Notice in the logs you can see the Task inputs and outputs:
<div class="highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">13</span>:05:49<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>START<span class="w">                                                                                   </span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">                             </span>Input:<span class="w"> </span>I<span class="w"> </span>will<span class="w"> </span>provide<span class="w"> </span>you<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>movies<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                                             </span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">13</span>:05:52<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>START<span class="w">                                                                                   </span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">                             </span>Output:<span class="w"> </span>Sure,<span class="w"> </span>please<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>movies<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>me<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                            </span>
</span></code></pre></div></p>
<p>As you can see, the LLM is ready to take a list of movies.</p>
<h3 id="add-the-end-task">Add the end task</h3>
<p>The next task we'll add will be the last task. This is a good place to create a task that summarizes what has been done, and then add it to the end of the workflow using the same <code>add_task</code> method.</p>
<div class="highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Create tasks</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">start_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;I will provide you a list of movies to compare.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;START&quot;</span><span class="p">)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="hll"><span class="n">end_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;How are the movies the same?&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;END&quot;</span><span class="p">)</span>
</span></span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">start_task</span><span class="p">)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="hll"><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">end_task</span><span class="p">)</span>
</span></span></code></pre></div>
<pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        B(PromptTask: START):::main --&gt; C(PromptTask: END):::main
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This process has changed from versions of Griptape prior to v0.20.</p>
<p>In previous versions, the <code>add_task</code> method would add tasks as <strong>siblings</strong> of the parent task. With versions greater than 0.20, they add them one after another. To add tasks as <strong>sibblings</strong> you will be <strong>inserting</strong> tasks.</p>
<div class="highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">start_task</span><span class="p">)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">end_task</span><span class="p">)</span>
</span></code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">After Griptape 0.2.0</label><label for="__tabbed_1_2">Before Griptape 0.2.0</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        B(PromptTask: START):::main --&gt; C(PromptTask: END):::main
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre>
</div>
<div class="tabbed-block">
<pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        B(PromptTask: START):::main
        C(PromptTask: END):::main
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre>
</div>
</div>
</div>
</div>
<h2 id="add-tasks-into-workflow">Add Tasks into Workflow</h2>
<h3 id="create-the-first-movie-prompt-task">Create the first Movie Prompt task</h3>
<p>Now it's time to create the first task asking the LLM to identify a movie. This will be a <code>PromptTask</code>.</p>
<p>In your code, after the <code>end_task</code>, add:</p>
<div class="highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Create tasks</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">start_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;I will provide you a list of movies to compare.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;START&quot;</span><span class="p">)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">end_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;How are the movies the same?&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;END&quot;</span><span class="p">)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="hll"><span class="c1"># Create movie tasks</span>
</span></span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="hll"><span class="n">movie_1_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;What movie is this: boy finds alien in backyard.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_1&quot;</span><span class="p">)</span>
</span></span></code></pre></div>
<h3 id="insert-the-task-into-the-workflow">Insert the Task into the Workflow</h3>
<p>You have created the task, but it's not yet part of the workflow. In order to do that, we'll need to use the <code>insert_tasks</code> method.</p>
<p>The <code>insert_tasks</code> method takes a couple of arguments. It looks like this:
<div class="highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">workflow</span><span class="o">.</span><span class="n">insert_tasks</span><span class="p">(</span><span class="n">task_a</span><span class="p">,</span> <span class="p">[</span><span class="n">task_c</span><span class="p">,</span> <span class="n">task_d</span><span class="p">],</span> <span class="n">task_b</span><span class="p">)</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">workflow</span><span class="o">.</span><span class="n">insert_tasks</span><span class="p">(</span><span class="n">task_c</span><span class="p">,</span> <span class="p">[</span><span class="n">task_e</span><span class="p">,</span> <span class="n">task_f</span><span class="p">],</span> <span class="n">task_b</span><span class="p">)</span>
</span></code></pre></div></p>
<p>Notice the second argument is a <code>list</code> of tasks. This method will take two tasks that already have a parent/child relationship, and <em>insert</em> whatever tasks are listed in that second argument between them. </p>
<p>The graph above would look something like:</p>
<pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        A(task_a)
        B(task_b)
        C(task_c)
        D(task_d)
        E(task_e)
        F(task_f)
        A --&gt; B --&gt; D
        A --&gt; C --&gt; E --&gt; D
        C --&gt; F --&gt; D
    end
</code></pre>
<p>We'll see this in more detail shortly, but for now let's just add the single task.</p>
<p>In your script, after the <code>add_task</code> lines, add:</p>
<div class="highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">workflow</span><span class="o">.</span><span class="n">insert_tasks</span><span class="p">(</span><span class="n">start_task</span><span class="p">,</span> <span class="p">[</span><span class="n">movie_1_task</span><span class="p">],</span> <span class="n">end_task</span><span class="p">)</span>
</span></code></pre></div>
<p>At this point, your workflow flow graph looks like:
    <pre class="mermaid"><code>graph TB 
    subgraph " "
        direction TB
        A(PromptTask: START):::main
        B(PromptTask: movie_1_task)
        C(PromptTask: END):::main
        A --&gt; B --&gt; C
    end

    classDef main fill:#4274ff1a, stroke:#426eff</code></pre></p>
<h3 id="run-the-workflow_1">Run the Workflow</h3>
<p>Run the script to see the output.</p>
<p>Here's the result. Notice the tasks being executed, and the summary where it tries to compare the results:</p>
<div class="highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:10:59<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>START<span class="w">                                                                                   </span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">                             </span>Input:<span class="w"> </span>I<span class="w"> </span>will<span class="w"> </span>provide<span class="w"> </span>you<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>movies<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                                             </span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:11:00<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>START<span class="w">                                                                                   </span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">                             </span>Output:<span class="w"> </span>Sure,<span class="w"> </span>please<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>movies<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>me<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                            </span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">                    </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>movie_1<span class="w">                                                                                 </span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">                             </span>Input:<span class="w"> </span>What<span class="w"> </span>movie<span class="w"> </span>is<span class="w"> </span>this:<span class="w"> </span>boy<span class="w"> </span>finds<span class="w"> </span>alien<span class="w"> </span><span class="k">in</span><span class="w"> </span>backyard.<span class="w">                                            </span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:11:02<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>movie_1<span class="w">                                                                                 </span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">                             </span>Output:<span class="w"> </span>The<span class="w"> </span>movie<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>referring<span class="w"> </span>to<span class="w"> </span>is<span class="w"> </span>likely<span class="w"> </span><span class="s2">&quot;E.T. the Extra-Terrestrial&quot;</span><span class="w"> </span>directed<span class="w"> </span>by<span class="w"> </span>Steven<span class="w">    </span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">                             </span>Spielberg.<span class="w">                                                                                         </span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">                    </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>END<span class="w">                                                                                     </span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">                             </span>Input:<span class="w"> </span>How<span class="w"> </span>are<span class="w"> </span>the<span class="w"> </span>movies<span class="w"> </span>the<span class="w"> </span>same?<span class="w">                                                                </span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:11:06<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>END<span class="w">                                                                                     </span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">                             </span>Output:<span class="w"> </span>As<span class="w"> </span>an<span class="w"> </span>AI,<span class="w"> </span>I<span class="w"> </span>need<span class="w"> </span>specific<span class="w"> </span>movies<span class="w"> </span>to<span class="w"> </span>compare<span class="w"> </span><span class="k">in</span><span class="w"> </span>order<span class="w"> </span>to<span class="w"> </span>provide<span class="w"> </span>similarities.<span class="w"> </span>Please<span class="w">       </span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">                             </span>provide<span class="w"> </span>the<span class="w"> </span>names<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>movies<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                                               </span>
</span></code></pre></div>
<p>The LLM is unable to compare the results for two reasons - first, we only passed a single movie. Second, we didn't pass the information about the movie back to the LLM so it doesn't know what we were talking about. We'll take care of these one at a time.</p>
<p>First, we'll add a second movie.</p>
<h3 id="second-movie-task">Second Movie Task</h3>
<p>Just below the first movie PromptTask, add a second one with another description.</p>
<div class="highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># ...</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1"># Create tasks</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">movie_1_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;What movie is this: boy finds alien in backyard.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_1&quot;</span><span class="p">)</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="hll"><span class="n">movie_2_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;What movie is this?: a shark attacks a beach.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_2&quot;</span><span class="p">)</span>
</span></span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># ...</span>
</span></code></pre></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Don't forget to add the id to the second task and make sure it's unique from the first task.</p>
</div>
<h3 id="add-second-task-to-workflow">Add Second Task to Workflow</h3>
<p>Just like before, we need to <em>insert</em> <code>movie_2_task</code> to <code>workflow</code> with the <code>insert_tasks</code> method. Modify the previous insert_tasks line to include both movie tasks.</p>
<div class="highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># ...</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="hll"><span class="n">workflow</span><span class="o">.</span><span class="n">insert_tasks</span><span class="p">(</span><span class="n">start_task</span><span class="p">,</span> <span class="p">[</span><span class="n">movie_1_task</span><span class="p">,</span> <span class="n">movie_2_task</span><span class="p">],</span> <span class="n">end_task</span><span class="p">)</span>
</span></span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="c1"># ...</span>
</span></code></pre></div>
<h3 id="test">Test</h3>
<p>Go ahead and run the code and notice that the two movie tasks executed in <em>parallel</em>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># ... truncated for brevity</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:14:32<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>START<span class="w">                                                                                   </span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">                             </span>Input:<span class="w"> </span>I<span class="w"> </span>will<span class="w"> </span>provide<span class="w"> </span>you<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>movies<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                                             </span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:14:34<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>START<span class="w">                                                                                   </span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">                             </span>Output:<span class="w"> </span>Sure,<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>ready<span class="w"> </span>to<span class="w"> </span><span class="nb">help</span><span class="w"> </span>you<span class="w"> </span>compare<span class="w"> </span>the<span class="w"> </span>movies.<span class="w"> </span>Please<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>list.<span class="w">                   </span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">                    </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>movie_2<span class="w">                                                                                 </span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">                             </span>Input:<span class="w"> </span>What<span class="w"> </span>movie<span class="w"> </span>is<span class="w"> </span>this?:<span class="w"> </span>a<span class="w"> </span>shark<span class="w"> </span>attacks<span class="w"> </span>a<span class="w"> </span>beach.<span class="w">                                               </span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">                    </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>movie_1<span class="w">                                                                                 </span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">                             </span>Input:<span class="w"> </span>What<span class="w"> </span>movie<span class="w"> </span>is<span class="w"> </span>this:<span class="w"> </span>boy<span class="w"> </span>finds<span class="w"> </span>alien<span class="w"> </span><span class="k">in</span><span class="w"> </span>backyard.<span class="w">                                            </span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:14:38<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>movie_2<span class="w">                                                                                 </span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">                             </span>Output:<span class="w"> </span>This<span class="w"> </span>could<span class="w"> </span>refer<span class="w"> </span>to<span class="w"> </span>several<span class="w"> </span>movies<span class="w"> </span>as<span class="w"> </span>shark<span class="w"> </span>attacks<span class="w"> </span>are<span class="w"> </span>a<span class="w"> </span>common<span class="w"> </span>theme<span class="w"> </span><span class="k">in</span><span class="w"> </span>many<span class="w"> </span>films.<span class="w">      </span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">                             </span>However,<span class="w"> </span>the<span class="w"> </span>most<span class="w"> </span>iconic<span class="w"> </span>one<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;Jaws&quot;</span><span class="w"> </span>directed<span class="w"> </span>by<span class="w"> </span>Steven<span class="w"> </span>Spielberg.<span class="w">                               </span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">                    </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>movie_1<span class="w">                                                                                 </span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">                             </span>Output:<span class="w"> </span>This<span class="w"> </span>could<span class="w"> </span>refer<span class="w"> </span>to<span class="w"> </span>several<span class="w"> </span>movies,<span class="w"> </span>but<span class="w"> </span>the<span class="w"> </span>most<span class="w"> </span>famous<span class="w"> </span>one<span class="w"> </span>is<span class="w"> </span>probably<span class="w"> </span><span class="s2">&quot;E.T. the          </span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="s2">                             Extra-Terrestrial&quot;</span><span class="w"> </span>directed<span class="w"> </span>by<span class="w"> </span>Steven<span class="w"> </span>Spielberg.<span class="w">                                                   </span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">                    </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>END<span class="w">                                                                                     </span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="w">                             </span>Input:<span class="w"> </span>How<span class="w"> </span>are<span class="w"> </span>the<span class="w"> </span>movies<span class="w"> </span>the<span class="w"> </span>same?<span class="w">                                                                </span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:14:41<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>END<span class="w">                                                                                     </span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="w">                             </span>Output:<span class="w"> </span>As<span class="w"> </span>an<span class="w"> </span>AI,<span class="w"> </span>I<span class="w"> </span>need<span class="w"> </span>more<span class="w"> </span>specific<span class="w"> </span>details<span class="w"> </span>to<span class="w"> </span>provide<span class="w"> </span>a<span class="w"> </span>comparison.<span class="w"> </span>Please<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>names<span class="w"> </span>of
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">                             </span>the<span class="w"> </span>movies<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>compare.<span class="w">                                                        </span>
</span></code></pre></div>
<p>Hmm. It doesn't look like the <code>compare</code> task knows what we're talking about. The workflow evaluated both we sent it, we can see that in the logs above, but the compare task has no knowledge of them. </p>
<p>That's because we need to <em>pass</em> the results of the previous task to the current task. This is a very important feature, as it allows us to be <em>very specific</em> about what data is sent to the LLM.</p>
<h2 id="pass-the-data">Pass the Data</h2>
<p>In order to send the data to the PromptTask, we need to somehow feed the result of the previous task's execution to the prompt.</p>
<h3 id="jinja2">Jinja2</h3>
<p>Griptape uses the <a href="https://jinja.palletsprojects.com/en/3.1.x/" target="_blank">Jinja2</a> template engine, which allows you to insert data into the prompt. There's a lot of power available with Jinja templates, but in this course we'll keep our focus rather small.</p>
<p>Jinja templates access variables using the <code>{{ }}</code> syntax. <strong>Tasks</strong> have a property <code>parent_outputs</code> that tell us what objects are coming into the node.</p>
<h3 id="update-the-prompt">Update the Prompt</h3>
<p>In order to update the prompt, we want to tell it what tasks to be looking at. If you check your code, you can see that we used the <code>id</code> property earlier when we were creating the tasks:</p>
<div class="highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">movie_1_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;What movie is this?: A boy discovers an alien in his back yard&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_1&quot;</span><span class="p">)</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">movie_2_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;What movie is this?: a shark attacks a beach.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_2&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>So <code>movie_1</code> and <code>movie_2</code> are the two ids we can use in our Jinja template. They can be specified like this: <code>{{ parent_outputs['movie_1'] }}</code> and <code>{{ parent_outputs['movie_2'] }}</code></p>
<p>Update the <code>END</code> task to specify the particular ids of the parent_outputs. Note - I'm using <code>"""</code> in order to allow us to use multiple lines for the PromptTask string.</p>
<div class="highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">end_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="s2">    How are these movies the same:</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="s2">    {{ parent_outputs[&#39;movie_1&#39;] }}</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="s2">    {{ parent_outputs[&#39;movie_2&#39;] }}</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;compare&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="test_1">Test</h3>
<p>When you run the script now, you should see a much better Input:</p>
<div class="highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:19:24<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>END<span class="w">        </span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">                             </span>Input:<span class="w">                                                                                             </span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">                                 </span>How<span class="w"> </span>are<span class="w"> </span>these<span class="w"> </span>movies<span class="w"> </span>the<span class="w"> </span>same:<span class="w">                                                                 </span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">                                 </span>This<span class="w"> </span>could<span class="w"> </span>be<span class="w"> </span>referring<span class="w"> </span>to<span class="w"> </span><span class="s2">&quot;E.T. the Extra-Terrestrial&quot;</span><span class="w"> </span>directed<span class="w"> </span>by<span class="w"> </span>Steven<span class="w"> </span>Spielberg.<span class="w">          </span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">                                 </span>This<span class="w"> </span>could<span class="w"> </span>be<span class="w"> </span>referring<span class="w"> </span>to<span class="w"> </span>several<span class="w"> </span>movies<span class="w"> </span>as<span class="w"> </span>shark<span class="w"> </span>attacks<span class="w"> </span>are<span class="w"> </span>a<span class="w"> </span>common<span class="w"> </span>theme<span class="w"> </span><span class="k">in</span><span class="w"> </span>films.<span class="w">        </span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">                             </span>However,<span class="w"> </span>the<span class="w"> </span>most<span class="w"> </span>iconic<span class="w"> </span>movie<span class="w"> </span>featuring<span class="w"> </span>a<span class="w"> </span>shark<span class="w"> </span>attack<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>beach<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;Jaws&quot;</span><span class="w"> </span>directed<span class="w"> </span>by<span class="w"> </span>Steven<span class="w">    </span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">                             </span>Spielberg.<span class="w">                                                                                         </span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="o">[</span><span class="m">11</span>/15/23<span class="w"> </span><span class="m">14</span>:19:26<span class="o">]</span><span class="w"> </span>INFO<span class="w">     </span>PromptTask<span class="w"> </span>END
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">                             </span>Output:<span class="w"> </span>These<span class="w"> </span>movies<span class="w"> </span>are<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span><span class="k">in</span><span class="w"> </span>that<span class="w"> </span>they<span class="w"> </span>are<span class="w"> </span>both<span class="w"> </span>directed<span class="w"> </span>by<span class="w"> </span>Steven<span class="w"> </span>Spielberg.
</span></code></pre></div>
<p>The code works but it's if you look closely at the <code>END</code> task input, you'll see that it's using the full string of the response from the prompts:</p>
<div class="highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>How<span class="w"> </span>are<span class="w"> </span>these<span class="w"> </span>movies<span class="w"> </span>the<span class="w"> </span>same:<span class="w">                                                    </span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>That<span class="w"> </span>sounds<span class="w"> </span>like<span class="w"> </span>the<span class="w"> </span>movie<span class="w"> </span><span class="s2">&quot;E.T. the Extra-Terrestrial&quot;</span>.<span class="w">                          </span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>That<span class="w"> </span>could<span class="w"> </span>be<span class="w"> </span>several<span class="w"> </span>movies,<span class="w"> </span>but<span class="w"> </span>the<span class="w"> </span>most<span class="w"> </span>famous<span class="w"> </span>one<span class="w"> </span>is<span class="w"> </span>probably<span class="w"> </span><span class="s2">&quot;Jaws&quot;</span>.<span class="w"> </span>
</span></code></pre></div>
<p>What we really want is just the name of the movie, not any commentary. We can fix that by adjusting the prompt in the initial query.</p>
<h3 id="fix-the-prompt">Fix the Prompt</h3>
<p>Change the movie PromptTasks so we ask for just the name:
<div class="highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">movie_1_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="s2">&quot;What movie is this? Return only the movie name: A boy discovers an alien in his back yard&quot;</span><span class="p">,</span> 
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_1&quot;</span><span class="p">)</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="n">movie_2_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="s2">&quot;What movie is this? Return only the movie name: a shark attacks a beach.&quot;</span><span class="p">,</span> 
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_2&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p>After running the response input task should be much cleaner:</p>
<div class="highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>How<span class="w"> </span>are<span class="w"> </span>these<span class="w"> </span>movies<span class="w"> </span>the<span class="w"> </span>same:<span class="w"> </span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>E.T.<span class="w"> </span>the<span class="w"> </span>Extra-Terrestrial<span class="w">                  </span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>Jaws<span class="w">   </span>
</span></code></pre></div>
<hr />
<h2 id="code-review">Code Review</h2>
<p>We covered quite a lot of ground creating your first workflow. Double-check your script and make sure you've got it working as expected:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span>
<span class="normal"><a href="#__codelineno-21-24">24</a></span>
<span class="normal"><a href="#__codelineno-21-25">25</a></span>
<span class="normal"><a href="#__codelineno-21-26">26</a></span>
<span class="normal"><a href="#__codelineno-21-27">27</a></span>
<span class="normal"><a href="#__codelineno-21-28">28</a></span>
<span class="normal"><a href="#__codelineno-21-29">29</a></span>
<span class="normal"><a href="#__codelineno-21-30">30</a></span>
<span class="normal"><a href="#__codelineno-21-31">31</a></span>
<span class="normal"><a href="#__codelineno-21-32">32</a></span>
<span class="normal"><a href="#__codelineno-21-33">33</a></span>
<span class="normal"><a href="#__codelineno-21-34">34</a></span>
<span class="normal"><a href="#__codelineno-21-35">35</a></span>
<span class="normal"><a href="#__codelineno-21-36">36</a></span>
<span class="normal"><a href="#__codelineno-21-37">37</a></span>
<span class="normal"><a href="#__codelineno-21-38">38</a></span>
<span class="normal"><a href="#__codelineno-21-39">39</a></span>
<span class="normal"><a href="#__codelineno-21-40">40</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2"></a>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="c1"># Griptape</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="kn">from</span> <span class="nn">griptape.structures</span> <span class="kn">import</span> <span class="n">Workflow</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="kn">from</span> <span class="nn">griptape.tasks</span> <span class="kn">import</span> <span class="n">PromptTask</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="n">load_dotenv</span><span class="p">()</span> 
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="c1"># Create the workflow object</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="n">workflow</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11"></a>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="c1"># Create tasks</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13"></a><span class="n">start_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span><span class="s2">&quot;I will provide you a list of movies to compare.&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;START&quot;</span><span class="p">)</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14"></a><span class="n">end_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="sd">    How are these movies the same: </span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17"></a><span class="sd">    {{ parent_outputs[&#39;movie_1&#39;] }}</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="sd">    {{ parent_outputs[&#39;movie_2&#39;] }}</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;END&quot;</span><span class="p">,</span>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="p">)</span>
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22"></a><span class="c1"># Create movie tasks</span>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23"></a><span class="n">movie_1_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span>
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24"></a>    <span class="s2">&quot;What movie is this? Return only the movie name: A boy discovers an alien in his back yard&quot;</span><span class="p">,</span>
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_1&quot;</span><span class="p">,</span>
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26"></a><span class="p">)</span>
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27"></a><span class="n">movie_2_task</span> <span class="o">=</span> <span class="n">PromptTask</span><span class="p">(</span>
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28"></a>    <span class="s2">&quot;What movie is this? Return only the movie name: a shark attacks a beach.&quot;</span><span class="p">,</span>
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;movie_2&quot;</span><span class="p">,</span>
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30"></a><span class="p">)</span>
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31"></a>
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33"></a><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">start_task</span><span class="p">)</span>
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34"></a><span class="n">workflow</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">end_task</span><span class="p">)</span>
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35"></a>
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36"></a><span class="c1"># Add tasks to workflow</span>
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37"></a><span class="n">workflow</span><span class="o">.</span><span class="n">insert_tasks</span><span class="p">(</span><span class="n">start_task</span><span class="p">,</span> <span class="p">[</span><span class="n">movie_1_task</span><span class="p">,</span> <span class="n">movie_2_task</span><span class="p">],</span> <span class="n">end_task</span><span class="p">)</span>
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38"></a>
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39"></a><span class="c1"># Run the workflow</span>
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40"></a><span class="n">workflow</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="next-step">Next Step</h2>
<p>In the next section we are going to make our script a bit more flexible by making it possible to compare as many movie descriptions as we want. Check out <a href="../04_adding_flexibility/">Adding Flexibility</a> when you're ready to continue.</p>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../02_concepts/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Concepts" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Concepts
              </div>
            </div>
          </a>
        
        
          
          <a href="../04_adding_flexibility/" class="md-footer__link md-footer__link--next" aria-label="Next: Adding Flexibility" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Adding Flexibility
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; Griptape, Inc.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.griptape.ai" target="_blank" rel="noopener" title="www.griptape.ai" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1H392c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.6H32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/gnWRz88eym" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/griptape-ai/griptape/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/@griptape-ai" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/griptape/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.instant", "navigation.path", "navigation.footer", "navigation.prune", "navigation.tracking", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.annotate", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
     
      <script src="../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../../js/adjust-button.js"></script>
        
      
    
<script>
  window.intercomSettings = {
    api_base: "https://api-iam.intercom.io",
    app_id: "t8pfeo91",
  };
</script>

<script>
  // We pre-filled your app ID in the widget URL: 'https://widget.intercom.io/widget/t8pfeo91'
  (function () {
    var w = window;
    var ic = w.Intercom;
    if (typeof ic === "function") {
      ic("reattach_activator");
      ic("update", w.intercomSettings);
    } else {
      var d = document;
      var i = function () {
        i.c(arguments);
      };
      i.q = [];
      i.c = function (args) {
        i.q.push(args);
      };
      w.Intercom = i;
      var l = function () {
        var s = d.createElement("script");
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://widget.intercom.io/widget/t8pfeo91";
        var x = d.getElementsByTagName("script")[0];
        x.parentNode.insertBefore(s, x);
      };
      if (document.readyState === "complete") {
        l();
      } else if (w.attachEvent) {
        w.attachEvent("onload", l);
      } else {
        w.addEventListener("load", l, false);
      }
    }
  })();
</script>

  </body>
</html>